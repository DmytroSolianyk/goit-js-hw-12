{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '48841275-5fdf514aecbb5a7f0d9901bba';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function searchImages(query) {\n  return axios\n    .get(BASE_URL, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        safesearch: true,\n        orientation: 'horizontal',\n      },\n    })\n    .then(response => {\n      return response.data.hits ?? [];\n    })\n    .catch(error => {\n      console.error('Помилка при виконанні запиту:', error);\n      throw error;\n    });\n}\n","export function createGalleryMarkup(images) {\n  return images\n    .map(\n      ({\n        webformatURL,\n        tags,\n        largeImageURL,\n        views,\n        downloads,\n        likes,\n        comments,\n      }) => {\n        return `\n        <li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n          </a>\n          <div class=\"gallery-item-description\">\n            <label>\n              Likes\n              <span>${likes}</span>\n            </label>\n    \n            <label>\n              Views\n              <span>${views}</span>\n            </label>\n    \n            <label>\n              Comments\n              <span>${comments}</span>\n            </label>\n    \n            <label>\n              Downloads\n              <span>${downloads}</span>\n            </label>\n          </div>\n        </li>\n      `;\n      }\n    )\n    .join('');\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { searchImages } from './js/pixabay-api';\nimport { createGalleryMarkup } from './js/render-functions';\n\ndocument.addEventListener('DOMContentLoaded', initializeEventListeners);\n\nfunction initializeEventListeners() {\n  document\n    .getElementById('search-form')\n    .addEventListener('submit', onSearchFormSubmit);\n}\n\nasync function onSearchFormSubmit(event) {\n  event.preventDefault();\n\n  const query = getQuery();\n  if (query === '') {\n    displayEmptyQueryError();\n    return;\n  }\n\n  const gallery = document.getElementById('gallery');\n  setGalleryLoading(gallery);\n\n  try {\n    const images = await searchImages(query);\n    updateGallery(gallery, images);\n  } catch (error) {\n    handleError(error);\n  }\n}\n\nfunction getQuery() {\n  return document.getElementById('search-input').value;\n}\n\nfunction setGalleryLoading(gallery) {\n  gallery.innerHTML = `<span class=\"loader\"></span>`;\n}\n\nfunction updateGallery(gallery, images) {\n  gallery.innerHTML = '';\n\n  if (images.length > 0) {\n    const galleryMarkup = createGalleryMarkup(images);\n    gallery.innerHTML = galleryMarkup;\n\n    const lightbox = new SimpleLightbox('.gallery a');\n    lightbox.refresh();\n  } else {\n    displayNoImagesError();\n    clearQuery();\n  }\n}\n\nfunction displayNoImagesError() {\n  iziToast.error({\n    message: `Sorry, there are no images matching your search query. Please try again!`,\n    position: 'topRight',\n  });\n}\n\nfunction displayEmptyQueryError() {\n  iziToast.error({\n    message: `Sorry, search input cannot be empty!`,\n    position: 'topRight',\n  });\n}\n\nfunction handleError(error) {\n  console.error('Помилка при виконанні запиту:', error);\n}\n\nfunction clearQuery() {\n  document.getElementById('search-input').value = '';\n}\n"],"names":["API_KEY","BASE_URL","searchImages","query","axios","response","error","createGalleryMarkup","images","webformatURL","tags","largeImageURL","views","downloads","likes","comments","initializeEventListeners","onSearchFormSubmit","event","getQuery","displayEmptyQueryError","gallery","setGalleryLoading","updateGallery","handleError","galleryMarkup","SimpleLightbox","displayNoImagesError","clearQuery","iziToast"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAaC,EAAO,CAClC,OAAOC,EACJ,IAAIH,EAAU,CACb,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,WAAY,GACZ,YAAa,YACd,CACP,CAAK,EACA,KAAKE,GACGA,EAAS,KAAK,MAAQ,EAC9B,EACA,MAAMC,GAAS,CACd,cAAQ,MAAM,gCAAiCA,CAAK,EAC9CA,CACZ,CAAK,CACL,CCvBO,SAASC,EAAoBC,EAAQ,CAC1C,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,KAAAC,EACA,cAAAC,EACA,MAAAC,EACA,UAAAC,EACA,MAAAC,EACA,SAAAC,CACR,IACe;AAAA;AAAA,0CAE2BJ,CAAa;AAAA,8CACTF,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKlDI,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKLF,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKLG,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKRF,CAAS;AAAA;AAAA;AAAA;AAAA,OAM1B,EACA,KAAK,EAAE,CACZ,CC9BA,SAAS,iBAAiB,mBAAoBG,CAAwB,EAEtE,SAASA,GAA2B,CAClC,SACG,eAAe,aAAa,EAC5B,iBAAiB,SAAUC,CAAkB,CAClD,CAEA,eAAeA,EAAmBC,EAAO,CACvCA,EAAM,eAAc,EAEpB,MAAMf,EAAQgB,IACd,GAAIhB,IAAU,GAAI,CAChBiB,IACA,MACD,CAED,MAAMC,EAAU,SAAS,eAAe,SAAS,EACjDC,EAAkBD,CAAO,EAEzB,GAAI,CACF,MAAMb,EAAS,MAAMN,EAAaC,CAAK,EACvCoB,EAAcF,EAASb,CAAM,CAC9B,OAAQF,EAAO,CACdkB,EAAYlB,CAAK,CAClB,CACH,CAEA,SAASa,GAAW,CAClB,OAAO,SAAS,eAAe,cAAc,EAAE,KACjD,CAEA,SAASG,EAAkBD,EAAS,CAClCA,EAAQ,UAAY,8BACtB,CAEA,SAASE,EAAcF,EAASb,EAAQ,CAGtC,GAFAa,EAAQ,UAAY,GAEhBb,EAAO,OAAS,EAAG,CACrB,MAAMiB,EAAgBlB,EAAoBC,CAAM,EAChDa,EAAQ,UAAYI,EAEH,IAAIC,EAAe,YAAY,EACvC,QAAO,CACpB,MACIC,IACAC,GAEJ,CAEA,SAASD,GAAuB,CAC9BE,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,UACd,CAAG,CACH,CAEA,SAAST,GAAyB,CAChCS,EAAS,MAAM,CACb,QAAS,uCACT,SAAU,UACd,CAAG,CACH,CAEA,SAASL,EAAYlB,EAAO,CAC1B,QAAQ,MAAM,gCAAiCA,CAAK,CACtD,CAEA,SAASsB,GAAa,CACpB,SAAS,eAAe,cAAc,EAAE,MAAQ,EAClD"}